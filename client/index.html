<!DOCTYPE html>
<html>
<title>Lets play a game</title>
<link rel="stylesheet" href="/client/stylesheet.css">
<script>
    
    function myfunc(){
        var input;
        if(document.getElementById('roomId').value.length==0)
            if(document.getElementById('createRoom').value.length>0)
                input=document.getElementById('createRoom').value;
            
        else
            input="";
        var name=document.getElementById('name').value;
        var list=new Array();
        if(document.getElementById('option1').checked)
           list.push(document.getElementById('option1').value);
        if(document.getElementById('option2').checked)
            list.push(document.getElementById('option2').value);
        if(document.getElementById('option3').checked)
            list.push(document.getElementById('option3').value);
        if(document.getElementById('option4').checked)
            list.push(document.getElementById('option4').value);
        if(document.getElementById('option5').checked)
            list.push(document.getElementById('option5').value);
        if(list.length<1){
            document.getElementById("demo").innerHTML="you must select at least 1 category";
            return false;
        }
        if(input.length<1){
            document.getElementById("demo").innerHTML="please enter room name";
            return false;
        }
        if(name.length<1)
        {
            document.getElementById("demo").innerHTML="you must enter a name for yourself";
            return false;
        }
        if(list.length>0)
            sessionStorage.setItem("list", JSON.stringify(list));
        if(input.length>0)
            sessionStorage.setItem("id", JSON.stringify(input));
        sessionStorage.setItem("name", JSON.stringify(name));
        return true;
    }
    function search(){
        var input=document.getElementById('roomId').value;
        var name=document.getElementById('name').value;
        if(input.length<1){
            document.getElementById("demo").innerHTML="please enter room name";
            return false;
        }
        if(name.length<1)
        {
            document.getElementById("demo").innerHTML="you must enter a name for yourself";
            return false;
        }
        sessionStorage.setItem("id", JSON.stringify(input));
        sessionStorage.setItem("name", JSON.stringify(name));
        sessionStorage.removeItem("list");
    }
    
</script>
<body>
<h1><ins>Welcome lets play some... </ins></h1>
<h1><ins>Scattergories </ins></h1>
<div id="newGAME">
    <form action="/client/scattergories.html" method="GET" autocomplete="off">
        <h3><ins>enter your nickname</ins></h3>
    <input type="text" placeholder="enter nickname" id="name">
    <br>
    <div style="float: left;padding-left: 21%;">
    <h2><ins>To join a room:</ins></h2>
    <br>
    <input type="text" placeholder="enter room name" id="roomId">
    <button onclick="return search()">join room</button>
    </div>
    <div style="float: right;padding-right: 10%;">
    <h2><ins>To create a room:</ins></h2>
    <input type="text" placeholder="enter room name" id="createRoom">
    <h3>select the categories you want to play for and create game</h3>
    <input type="checkbox" id="option1" name="option1" value="Countries">
    <label for="option1">Countries</label>
    <input type="checkbox" id="option2" name="option2" value="Cities">
    <label for="option2">Cities</label>
    <input type="checkbox" id="option3" name="option3" value="Movies">
    <label for="option3">Movies</label>
    <input type="checkbox" id="option4" name="option4" value="Names">
    <label for="option4">Names</label>
    <input type="checkbox" id="option5" name="option5" value="Fruits&Vegtables">
    <label for="option5">Fruits & Vegtables</label>
    <br>
    <input type="submit" value="create game" style="margin-top: 5%;" onclick="return myfunc()">
    </div>
</form>
<br>
<p id="demo" style="color: red; text-align: center; font-size: 150%;padding-top: 15%;"></p>
</div>
<script>
    if(sessionStorage.getItem("notFound")!==null)
    {
        document.getElementById("demo").innerHTML="the room you are looking for does not exist you can create it or try a diffrent room name";
        sessionStorage.removeItem("notFound");
    }
    else if(sessionStorage.getItem("exists")!==null)
    {
        document.getElementById("demo").innerHTML="the nickname you are trying to use already exists in the room please choose another";
        sessionStorage.removeItem("exists");
    }
    else if(sessionStorage.getItem("roomExists")!==null)
    {
        document.getElementById("demo").innerHTML="the room you are trying to create already exists you can join it or create a room with a diffrent name";
        sessionStorage.removeItem("roomExists");
    }
</script>
</body>
</html>